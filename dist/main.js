!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class o{constructor(){this.size=1,this.body=[{x:3,y:3},{x:4,y:4}],this.direction="right"}move(e,t,n){"right"===n&&"left"===this.direction||"left"===n&&"right"===this.direction||"up"===n&&"down"===this.direction||"down"===n&&"up"===this.direction||(this.direction=n);const o=this.body;switch(this.direction){case"right":o[o.length-1].x===e?o.push({x:0,y:o[o.length-1].y}):o.push({x:o[o.length-1].x+1,y:o[o.length-1].y});break;case"left":0===o[o.length-1].x?o.push({x:e,y:o[o.length-1].y}):o.push({x:o[o.length-1].x-1,y:o[o.length-1].y});break;case"up":0===o[o.length-1].y?o.push({x:o[o.length-1].x,y:t}):o.push({x:o[o.length-1].x,y:o[o.length-1].y-1});break;case"down":o[o.length-1].y===t?o.push({x:o[o.length-1].x,y:0}):o.push({x:o[o.length-1].x,y:o[o.length-1].y+1})}return o.shift(),this.body}grow(){this.body.unshift({x:this.body[0].x,y:this.body[0].y})}}const i=(e,t,n)=>e+t*(n+1),r=(e,t)=>[e%(t+1),Math.floor(e/(t+1))];class s{findAGoodSpot(e,t,n){let o=!0,s=null;for(;o;)o=!1,s=Math.floor(Math.random()*i(e,t,e)),n.forEach(t=>{i(t.x,t.y,e)===s&&(o=!0)});[this.x,this.y]=r(s,e)}}(new class{constructor(){this.gameWidth=10,this.gameHeight=10,this.intendedDirection="right",this.thereMayBeFood=!1,this.snakeSize=1,this.gameSpeed=170}listenToControls(){document.addEventListener("keydown",e=>{switch(e.keyCode){case 37:this.intendedDirection="left";break;case 38:this.intendedDirection="up";break;case 39:this.intendedDirection="right";break;case 40:this.intendedDirection="down"}})}play(){this.drawGrid(this.gameWidth,this.gameHeight),setTimeout(()=>{const e=new o,t=new s;setTimeout(()=>{t.findAGoodSpot(this.gameWidth,this.gameHeight,e.body),this.thereMayBeFood=!0},2500),this.listenToControls(),this.gameInterval=setInterval(()=>this.nextStep(e,this.intendedDirection,t),this.gameSpeed)},1e3)}nextStep(e,t,n){const o=e.move(this.gameWidth,this.gameHeight,t),i=o[o.length-1].x,r=o[o.length-1].y;i===n.x&&r===n.y&&(e.grow(),this.snakeSize++,n.findAGoodSpot(this.gameWidth,this.gameHeight,e.body)),this.drawSnakeAndFood(o,n),this.checkForDeath(e),this.updateStats();const s=document.querySelector(".game-grid");s.style.transform+="rotateZ(0.2deg)",s.querySelectorAll("td").forEach(e=>{o.length%20>10?e.style.border="none":e.style.border="1px solid #9d0191"})}checkForDeath(e){const t=[...e.body],n=t[t.length-1];[...t].slice(1,t.length-1).forEach(e=>{if(e.x===n.x&&e.y===n.y){console.log(t),console.log(t.length),console.log(document.getElementById("final-score"));const e=document.getElementById("lost-modal");e.style.display="flex",document.getElementById("final-score").innerText=(t.length-1).toString(),clearInterval(this.gameInterval),e.addEventListener("click",()=>{location.reload()})}})}drawSnakeAndFood(e,t){const n=document.querySelectorAll("td"),o=e[e.length-1].x,r=e[e.length-1].y,s=e[0].x,h=e[0].y;o===s&&r===h||(n[i(o,r,this.gameWidth)].style.backgroundColor="#fecd1a",n[i(s,h,this.gameWidth)].style.backgroundColor="#120078",this.thereMayBeFood&&(n[i(t.x,t.y,this.gameWidth)].style.backgroundColor="#fd3a69"))}drawGrid(e,t){const n=document.querySelector(".game-grid tbody");for(let o=0;o<e+1;o++){n.innerHTML+=`<tr data-row=${o}></tr>`;for(let e=0;e<t+1;e++)n.querySelector(`tr[data-row="${o}"]`).innerHTML+="<td></td>"}}updateStats(){document.querySelector("#snake-size").innerHTML=this.snakeSize}}).play()}]);
//# sourceMappingURL=main.js.map